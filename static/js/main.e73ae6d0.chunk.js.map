{"version":3,"sources":["Components/Head/Head.jsx","Components/Form/Form.jsx","Components/request.js","Components/App.js","index.js"],"names":["Head","usd","eur","className","Form","valut","currency","value","onChange","setInput","map","item","index","htmlFor","type","id","request","fetch","then","res","ok","Error","status","statusText","json","App","useState","setValut","queue","setQueue","exchangeRate","setExchangeRate","setUsd","setEur","fromCurrency","toCurrency","setCurrency","valueTo","valueFrom","input","getStat","a","EUR","rates","UAH","USD","list","Object","keys","base_code","useEffect","getInfo","toFixed","rev","e","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e73ae6d0.chunk.js","sourcesContent":["import React from 'react'\r\nimport './Head.scss'\r\n\r\nexport const Head = ({usd, eur}) => {\r\n  return (\r\n    <div className=\"head\">\r\n      <h1 className=\"head__title\">Currency —Åonverter</h1>\r\n      <h3 className='head__subtitle'>USD: {usd}</h3>\r\n      <h3 className='head__subtitle'>EUR: {eur}</h3>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './Form.scss'\r\n\r\nexport const Form = ({valut, currency, value, onChange, setInput}) => {\r\n  return (\r\n    <div className=\"form\">\r\n      <div className=\"form__body\">\r\n        <select className='form__select' onChange={onChange} value={currency}>\r\n          {valut.map((item,index) => (\r\n            <option key={index}>{item}</option>\r\n          ))}\r\n        </select>\r\n        <label className='form__label' htmlFor=\"value1\">Enter value</label>\r\n        <input className='form__input' onChange={setInput} type=\"text\" id='value1' value={value}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","export const request = (value) => {\r\n    return fetch(`https://open.er-api.com/v6/latest/${value}`)\r\n    .then(res => {\r\n        if(!res.ok){\r\n            throw new Error(`${res.status} - ${res.statusText}`)\r\n        }\r\n        return res.json()\r\n    })\r\n}\r\n","import React,{ useEffect, useState } from 'react'\r\nimport { Head } from './Head/Head'\r\nimport { Form } from './Form/Form'\r\nimport { request } from './request'\r\nimport './App.scss'\r\n\r\nexport const App = () => {\r\n  const [valut, setValut] = useState(null)\r\n  const [queue, setQueue] = useState(true)\r\n  const [exchangeRate, setExchangeRate] = useState(0)\r\n  const [usd, setUsd] = useState(null)\r\n  const [eur, setEur] = useState(null)\r\n  const [currency, setCurrency] = useState({\r\n    fromCurrency: 'UAH',\r\n    toCurrency: '',\r\n  })\r\n  const [input, setInput] = useState({\r\n    valueTo: 1,\r\n    valueFrom: '',\r\n  })\r\n\r\n  async function getStat () {\r\n    const EUR = await request('EUR')\r\n    setEur(1 * EUR.rates.UAH)\r\n    const USD = await request('USD')\r\n    setUsd(1 * USD.rates.UAH)\r\n  }\r\n\r\n  async function getInfo (value) {\r\n    let list = await request(value)\r\n    getStat()\r\n    setValut(Object.keys(list.rates))\r\n    setCurrency({...currency, fromCurrency:list.base_code, toCurrency:Object.keys(list.rates)[1]})\r\n    setExchangeRate(list.rates[Object.keys(list.rates)[1]])\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(valut === null) {\r\n      getInfo('UAH')\r\n    }\r\n  },[valut])\r\n\r\n  useEffect(()=> {\r\n    if(queue) {\r\n      setInput({\r\n        ...input, valueFrom: (input.valueTo * exchangeRate).toFixed(2)\r\n      })\r\n    } else {\r\n      setInput({\r\n        ...input, valueTo: (input.valueFrom * exchangeRate).toFixed(2)\r\n      })\r\n    }\r\n  },[queue,input.valueTo, input.valueFrom, currency, exchangeRate])\r\n\r\n  useEffect(() => {\r\n    if(valut !== null) {\r\n      if(queue) {\r\n        fetch(`https://open.er-api.com/v6/latest/${currency.fromCurrency}`)\r\n          .then(res => res.json())\r\n          .then(rev => setExchangeRate(rev.rates[currency.toCurrency]))\r\n    } else {\r\n        fetch(`https://open.er-api.com/v6/latest/${currency.toCurrency}`)\r\n          .then(res => res.json())\r\n          .then(rev => setExchangeRate(rev.rates[currency.fromCurrency]))\r\n      }\r\n    }\r\n  },[currency, queue, valut])\r\n\r\n  return (\r\n    <div className='app'>\r\n      <Head usd={usd} eur={eur}/>\r\n      <div className='app__body'>\r\n        {valut !== null ? (\r\n          <>\r\n            <Form\r\n              value={input.valueTo}\r\n              setInput={e =>{ \r\n                setInput({...input, valueTo: e.target.value})\r\n                setQueue(true)\r\n              }}\r\n              valut={valut} \r\n              currency={currency.fromCurrency}\r\n              onChange={e => {\r\n                setCurrency({...currency, fromCurrency: e.target.value})\r\n                setQueue(true)\r\n              }}\r\n            />\r\n            <Form \r\n              value={input.valueFrom}\r\n              currency={currency.toCurrency}\r\n              setInput={e =>{ \r\n                setInput({...input, valueFrom: e.target.value})\r\n                setQueue(false)\r\n              }}\r\n              valut={valut} \r\n              onChange={e => {\r\n                setCurrency({...currency, toCurrency: e.target.value})\r\n                setQueue(true)\r\n              }}\r\n            />\r\n          </>\r\n        ):(\r\n          <div className='app__load'>Loading...</div>\r\n        )}\r\n    </div>\r\n  </div>\r\n  )\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './Components/App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}